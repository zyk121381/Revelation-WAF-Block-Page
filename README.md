简体中文 | [English](README_en.md)
# 🛡️Revelation's WAF Block Page
一种多语言不同类型的网络安全防护墙拦截单页。
![示例](https://github.com/user-attachments/assets/5bee7eb5-2566-418e-b0aa-2d83271ba25d)

# 🗂️文件类别
|文件名称|拦截类型|
|:--:|:--:|
|403 Forbidden.html|通用拦截页面，用于403请求|
|Regional Access Restriction.html|区域访问限制|
|Non-existent Website.html|网站不存在|
|IP Blacklist.html|IP黑名单|
文件顺序和上方截图所展示的一致。

# 📋页面主要功能
## 🛜自动获取IP
通过 `https://ipapi.co/json/`（主要接口）或 `https://ipinfo.io/json/`（备用接口）获取访问者的网络IP显示于页面中，并基于此完成其余内容。

## 💬语言自动切换
通过获取到的IP，检测适用于访问者的WAF拦截语言。目前包含简体中文、繁体中文、英语、日语、韩语、荷兰语、葡语、乌克兰语、印地语、泰语、他加禄语、越南语、挪威语、土耳其语、马来语、法语、德语、西班牙语、保加利亚语、爱尔兰语、立陶宛语、印度尼西亚语，并为部分国家配置了语言映射。当通过IP确认访问者的国家后，会根据配置的国家与语言映射自动显示对应的语言，若未配置则显示默认语言（英语）。访问者还可以通过右上角图标随意切换语言。

## ⏲拦截时间显示
通过获取到的IP，自动判断访问者所处地区的时区。一般会通过UTC+时间偏移量来显示用户当地时间；若 `https://ipapi.co/json/` 接口因用户访问过多而被限制，则会更改为用户当地时间+时区名称。当两个接口全部失效时，则会显示默认的UTC+0800（Asia/Shanghai）时间。

## 🎇其他
包含刷新页面、帮助弹窗等。

# 🗣说明
使用时，将单页直接粘贴在对应设置区域即可。以1Panel为例：
![1Panel专业版](https://github.com/user-attachments/assets/eaabe285-a868-4c68-b1a7-36d1f1f81079)

## 📩内容修改
当需要对拦截页面进行修改时，请注意：
1. html正文中的语言则为初始访问页面时的语言。如果你希望获取IP前页面显示的是英文，则将其修改成英文即可；
2. 如果想新增区块和语言，则需要为该区块定义一个新的id，并将该id添加到语言资源包中，删除同理；
3. 如果想新增或删除语言，需要：
      > 1. 语言选择器中新增或删除，并且确认语言的 `data-lang` 参数唯一；
      > 2. 新增语言资源json，且开头的类名要与该语言的 `data-lang` 参数一致；
      > 3. 添加国家代码到语言的映射（国家代码不可以自定义，语言代码可以自定义）。
